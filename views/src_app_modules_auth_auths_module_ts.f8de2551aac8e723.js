"use strict";(self.webpackChunkaed_portal=self.webpackChunkaed_portal||[]).push([["src_app_modules_auth_auths_module_ts"],{7988:(U,h,a)=>{a.r(h),a.d(h,{AuthsModule:()=>L});var y=a(8692),l=a(458),s=a(9900),d=a(8629),g=a(574),m=a(5128),e=a(7241),p=a(1383),f=a(7556),v=a(946);let b=(()=>{class r{constructor(t,i,n){this.store=t,this.auth=i,this.conf=n,this.isLoginForm=!0,this.message="Vous \xeates d\xe9connect\xe9 !",this.isLoading=!1,this.LoadingMsg="Loading...",this.showRegisterPage=!1,this.passwordType="password",this.APP_LOGO=m.z.APP_LOGO}ngOnInit(){this.auth.alreadyLogin(),this.authForm=this.createFormGroup()}getConfigs(){return this.conf.getConfigs().subscribe(t=>{this.showRegisterPage=t.showRegisterPage??!1},t=>{this.showRegisterPage=!1})}showHidePassword(){this.passwordType="password"==this.passwordType?"text":"password"}setMessage(t){this.message=t||"Une Erreur est survenue"}createFormGroup(){return new s.cw({username:new s.NI("",[s.kI.required,s.kI.minLength(3)]),password:new s.NI("",[s.kI.required,s.kI.minLength(7)]),agreeTermsOrRemenberMe:new s.NI(!1,[])})}login(){if(!this.auth.isLoggedIn())return this.isLoading=!0,this.auth.login(this.authForm.value.username,this.authForm.value.password).subscribe(t=>{200===t.status?(this.message="Login successfully !",this.store.set("user",JSON.stringify(t.data)),new g.G(this.store).isChws()?location.href=this.auth.userValue()?.defaultRedirectUrl:location.href=d.FI.getSavedUrl()??this.auth.userValue()?.defaultRedirectUrl):(this.message=t.data,this.isLoading=!1)},t=>{this.isLoading=!1,this.message=t,console.log(this.message)});this.auth.alreadyLogin()}passwordMatchError(){return!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(p.u),e.Y36(f.e),e.Y36(v.E))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:34,vars:0,consts:[["id","main-wrapper","data-layout","vertical","data-navbarbg","skin6","data-sidebartype","full","data-sidebar-position","fixed","data-header-position","fixed",1,"page-wrapper"],[1,"position-relative","overflow-hidden","radial-gradient","min-vh-100","d-flex","align-items-center","justify-content-center"],[1,"d-flex","align-items-center","justify-content-center","w-100"],[1,"row","justify-content-center","w-100"],[1,"col-md-8","col-lg-6","col-xxl-3"],[1,"card","mb-0"],[1,"card-body"],[1,"text-nowrap","logo-img","text-center","d-block","py-3","w-100"],["src","../assets/images/logos/logo.png","width","180","alt",""],[1,"text-center"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control"],[1,"mb-4"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1",1,"form-control"],[1,"d-flex","align-items-center","justify-content-between","mb-4"],[1,"form-check"],["type","checkbox","value","","id","flexCheckChecked","checked","",1,"form-check-input","primary"],["for","flexCheckChecked",1,"form-check-label","text-dark"],["href","./index.html",1,"text-primary","fw-bold"],["href","./index.html",1,"btn","btn-primary","w-100","py-8","fs-4","mb-4","rounded-2"],[1,"d-flex","align-items-center","justify-content-center"],[1,"fs-4","mb-0","fw-bold"],["routerLink","/auths/register",1,"text-primary","fw-bold","ms-2"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e._UZ(8,"img",8),e.qZA(),e.TgZ(9,"p",9),e._uU(10,"Your Social Campaigns"),e.qZA(),e.TgZ(11,"form")(12,"div",10)(13,"label",11),e._uU(14,"Username"),e.qZA(),e._UZ(15,"input",12),e.qZA(),e.TgZ(16,"div",13)(17,"label",14),e._uU(18,"Password"),e.qZA(),e._UZ(19,"input",15),e.qZA(),e.TgZ(20,"div",16)(21,"div",17),e._UZ(22,"input",18),e.TgZ(23,"label",19),e._uU(24," Remeber this Device "),e.qZA()(),e.TgZ(25,"a",20),e._uU(26,"Forgot Password ?"),e.qZA()(),e.TgZ(27,"a",21),e._uU(28,"Sign In"),e.qZA(),e.TgZ(29,"div",22)(30,"p",23),e._uU(31,"New to Modernize?"),e.qZA(),e.TgZ(32,"a",24),e._uU(33,"Create an account"),e.qZA()()()()()()()()()())},dependencies:[s._Y,s.JL,l.yS],encapsulation:2}),r})();var x=a(5732);let Z=(()=>{class r{constructor(t,i,n,u,c){this.store=t,this.auth=i,this.router=n,this.http=u,this.conf=c,this.isLoginForm=!1,this.message="Vous voulez vous enr\xe9gistrer",this.isLoading=!1,this.LoadingMsg="Loading...",this.APP_LOGO=m.z.APP_LOGO,this.passwordType="password",this.roles=new g.G(this.store)}ngOnInit(){this.getConfigs(),this.authForm=this.createFormGroup()}showHidePassword(){this.passwordType="password"==this.passwordType?"text":"password"}getConfigs(){return this.conf.getConfigs().subscribe(t=>{if(!0!==t.showRegisterPage){const i=d.FI.getSavedUrl();i?location.href=i:this.router.navigate(["auths/login"]),console.log("you don't have permission !")}},t=>{const i=d.FI.getSavedUrl();i?location.href=i:this.router.navigate(["auths/login"]),console.log("you don't have permission !")})}createFormGroup(){return new s.cw({username:new s.NI("",[s.kI.required,s.kI.minLength(4)]),fullname:new s.NI("",[s.kI.required,s.kI.minLength(4)]),email:new s.NI("",[s.kI.required,s.kI.email]),password:new s.NI("",[s.kI.required,s.kI.minLength(8)]),passwordConfirm:new s.NI("",[s.kI.required,s.kI.minLength(8)]),agreeTermsOrRemenberMe:new s.NI(!1,[s.kI.required])},[this.MatchValidator("password","passwordConfirm"),this.AcceptThermeValidator("agreeTermsOrRemenberMe")])}MatchValidator(t,i){return n=>{const u=n.get(t),c=n.get(i);return u&&c&&u.value!==c.value?{mismatch:!0}:null}}AcceptThermeValidator(t){return i=>{const n=i.get(t);return n&&!0!==n.value?{mismatch:!0}:null}}passwordMatchError(){return this.authForm.getError("password")&&this.authForm.get("passwordConfirm")?.touched}register(){if(!this.auth.isLoggedIn())return this.isLoading=!0,this.auth.register(this.authForm.value).subscribe(t=>{if(200===t.status){this.message="Registed successfully !";const i=d.FI.getSavedUrl();i?location.href=i:this.router.navigate(["auths/login"])}else this.message=t.data;console.log(this.message),this.isLoading=!1},t=>{this.message=t.error,this.isLoading=!1,console.log(this.message)});this.auth.alreadyLogin()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(p.u),e.Y36(f.e),e.Y36(l.F0),e.Y36(x.eN),e.Y36(v.E))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],decls:31,vars:0,consts:[["id","main-wrapper","data-layout","vertical","data-navbarbg","skin6","data-sidebartype","full","data-sidebar-position","fixed","data-header-position","fixed",1,"page-wrapper"],[1,"position-relative","overflow-hidden","radial-gradient","min-vh-100","d-flex","align-items-center","justify-content-center"],[1,"d-flex","align-items-center","justify-content-center","w-100"],[1,"row","justify-content-center","w-100"],[1,"col-md-8","col-lg-6","col-xxl-3"],[1,"card","mb-0"],[1,"card-body"],[1,"text-nowrap","logo-img","text-center","d-block","py-3","w-100"],["src","../assets/images/logos/logo.png","width","180","alt",""],[1,"text-center"],[1,"mb-3"],["for","exampleInputtext1",1,"form-label"],["type","text","id","exampleInputtext1","aria-describedby","textHelp",1,"form-control"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control"],[1,"mb-4"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1",1,"form-control"],["href","./index.html",1,"btn","btn-primary","w-100","py-8","fs-4","mb-4","rounded-2"],[1,"d-flex","align-items-center","justify-content-center"],[1,"fs-4","mb-0","fw-bold"],["routerLink","/auths/login",1,"text-primary","fw-bold","ms-2"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e._UZ(8,"img",8),e.qZA(),e.TgZ(9,"p",9),e._uU(10,"Your Social Campaigns"),e.qZA(),e.TgZ(11,"form")(12,"div",10)(13,"label",11),e._uU(14,"Name"),e.qZA(),e._UZ(15,"input",12),e.qZA(),e.TgZ(16,"div",10)(17,"label",13),e._uU(18,"Email Address"),e.qZA(),e._UZ(19,"input",14),e.qZA(),e.TgZ(20,"div",15)(21,"label",16),e._uU(22,"Password"),e.qZA(),e._UZ(23,"input",17),e.qZA(),e.TgZ(24,"a",18),e._uU(25,"Sign Up"),e.qZA(),e.TgZ(26,"div",19)(27,"p",20),e._uU(28,"Already have an Account?"),e.qZA(),e.TgZ(29,"a",21),e._uU(30,"Sign In"),e.qZA()()()()()()()()()())},dependencies:[s._Y,s.JL,l.yS],encapsulation:2}),r})();var w=a(5601);const I=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:b,data:{title:"Login"},canActivate:[w.p]},{path:"register",component:Z,data:{title:"Register"},canActivate:[w.p]}];let A=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[l.Bz.forChild(I),l.Bz]}),r})(),L=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez,s.UX,A]}),r})()}}]);